"use strict";!function(){var c=0,e=document.querySelector(".content-block__head-link"),t=document.querySelector(".form-product"),l=document.querySelector(".content-block__head-title"),d=document.querySelector(".content-block__head-price > span"),o=t.querySelector(".form-product__btn"),u=document.querySelector("#form-card-overlay"),i=t.querySelectorAll(".form-product__input-radio"),a=t.querySelectorAll(".form-product__input-checkbox"),r=(t.querySelectorAll(".form-product__label-checkbox"),document.querySelector(".form-card")),n=r.querySelector(".btn-close"),s=r.querySelector("#model-name"),p=r.querySelector("#model-price"),m=r.querySelector("#selected-color"),y=r.querySelector("#price"),h=document.querySelector("#selected-options");e.addEventListener("click",function(){window.popupsmain.popupOverlay.classList.remove("hidden")}),o.addEventListener("click",function(){var e=[];u.classList.remove("hidden"),window.popupsmain.body.classList.add("modal-open"),s.textContent=l.textContent,p.textContent=d.textContent+" рублей";for(var t=0;t<i.length;t++)i[t].checked&&(m.value=i[t].value);for(t=0;t<a.length;t++)if(a[t].checked){c+=+a[t].value,e.push(a[t].name);var o=document.createElement("input");o.classList.add("form-card__group-options"),o.setAttribute("readonly",""),h.appendChild(o);for(var r=h.querySelectorAll("input"),n=0;n<r.length;n++)o.value=a[t].nextElementSibling.getAttribute("data-options")+" "+a[t].value+" рублей",o.name=a[t].name}y.value=+d.textContent+c+" рублей"}),n.addEventListener("click",function(){u.classList.add("hidden"),window.popupsmain.body.classList.remove("modal-open");for(var e=0;e<i.length;e++)i[e].checked=!1;for(e=0;e<a.length;e++)a[e].checked=!1;var t=document.querySelector("#selected-options").querySelectorAll("input");for(e=0;e<t.length;e++)h.removeChild(t[e]);c=0}),document.addEventListener("keydown",function(e){if(e.keyCode===window.popupsmain.ESC_KEYCODE){u.classList.add("hidden"),window.popupsmain.body.classList.remove("modal-open");for(var t=0;t<i.length;t++)i[t].checked=!1;for(t=0;t<a.length;t++)a[t].checked=!1;var o=document.querySelector("#selected-options").querySelectorAll("input");for(t=0;t<o.length;t++)h.removeChild(o[t]);c=0}})}();